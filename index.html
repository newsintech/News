<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tech News - Latest Technology Stories</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f5f5f5; color: #1a1a1a; }
        header { position: sticky; top: 0; z-index: 1000; background: #fff; border-bottom: 1px solid #e5e5e5; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .header-top { display: flex; justify-content: space-between; align-items: center; max-width: 1280px; margin: 0 auto; padding: 15px 20px; }
        .logo { font-size: 24px; font-weight: 700; color: #000; text-decoration: none; }
        .header-search { flex: 1; max-width: 400px; margin: 0 30px; }
        .header-search input { width: 100%; padding: 10px 15px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; }
        nav { background: #fff; border-bottom: 1px solid #e5e5e5; }
        .nav-wrapper { max-width: 1280px; margin: 0 auto; padding: 0 20px; display: flex; gap: 30px; overflow-x: auto; }
        nav a { display: block; padding: 15px 0; text-decoration: none; color: #333; font-weight: 500; font-size: 14px; white-space: nowrap; cursor: pointer; }
        nav a:hover { color: #0066cc; }
        .container { max-width: 1280px; margin: 0 auto; padding: 0 20px; }
        .featured-section { margin: 40px 0; }
        .articles-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 25px; margin: 40px 0; }
        .article-card { background: #fff; border-radius: 8px; overflow: hidden; transition: all 0.3s; cursor: pointer; }
        .article-card:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0,0,0,0.1); }
        .article-card img { width: 100%; height: 200px; object-fit: cover; }
        .article-content { padding: 18px; }
        .article-category { display: inline-block; background: #f0f0f0; color: #666; padding: 4px 10px; border-radius: 4px; font-size: 11px; font-weight: 600; text-transform: uppercase; margin-bottom: 10px; }
        .article-card h3 { font-size: 18px; line-height: 1.4; margin: 0 0 10px 0; color: #000; }
        .article-card p { font-size: 14px; color: #666; line-height: 1.5; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .article-footer { display: flex; justify-content: space-between; font-size: 12px; color: #999; padding-top: 10px; }
        .article-link { text-decoration: none; color: inherit; display: block; height: 100%; }
        .loading { text-align: center; padding: 40px; font-size: 16px; color: #999; }
        .error { background: #fee; color: #c33; padding: 20px; border-radius: 6px; margin: 20px 0; }
        .related-articles { margin: 40px 0; }
        .related-articles h2 { font-size: 22px; margin-bottom: 20px; }
        footer { background: #1a1a1a; color: #ccc; padding: 60px 20px 20px; margin-top: 80px; }
        .footer-content { max-width: 1280px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 40px; margin-bottom: 40px; }
        .footer-col h4 { color: #fff; font-size: 14px; margin-bottom: 15px; }
        .footer-col a { display: block; color: #ccc; text-decoration: none; font-size: 13px; margin-bottom: 10px; }
        .footer-col a:hover { color: #fff; }
        @media (max-width: 768px) { .header-search { display: none; } .nav-wrapper { gap: 15px; } }
    </style>
</head>
<body>
    <header>
        <div class="header-top">
            <a href="/" class="logo">TECH NEWS</a>
            <div class="header-search">
                <input type="text" placeholder="Search articles..." id="searchInput">
            </div>
        </div>
    </header>

    <nav>
        <div class="nav-wrapper">
            <a onclick="filterByCategory('technology')">Technology</a>
            <a onclick="filterByCategory('business')">Business</a>
            <a onclick="filterByCategory('entertainment')">Entertainment</a>
            <a onclick="filterByCategory('science')">Science</a>
            <a onclick="showAllArticles()">All News</a>
        </div>
    </nav>

    <div class="container">
        <div id="newsContainer" class="articles-grid"></div>
        <div id="relatedArticles" class="related-articles" style="display: none;">
            <h2>Related Articles</h2>
            <div id="relatedContainer" class="articles-grid"></div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-col">
                <h4>About</h4>
                <a href="#">About Us</a>
                <a href="#">Contact</a>
            </div>
            <div class="footer-col">
                <h4>Legal</h4>
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
            </div>
            <div class="footer-col">
                <h4>Follow</h4>
                <a href="#">Twitter</a>
                <a href="#">Facebook</a>
            </div>
        </div>
        <div style="text-align: center; border-top: 1px solid #333; padding-top: 20px; font-size: 12px;">
            &copy; 2025 Tech News. All rights reserved.
        </div>
    </footer>

    <script>
        let allArticles = [];
        let currentCategory = null;

        async function fetchNews() {
            try {
                const container = document.getElementById('newsContainer');
                container.innerHTML = '<div class="loading">Loading news...</div>';
                
                // Using The News API - completely free, no auth required
                const response = await fetch('https://api.thenewsapi.com/v1/news/top?locale=us&limit=20&api_token=qV9v1sxFhzFJaWBrNd8MxO0HxKXLMxnE9bAzm3wN');
                
                if (!response.ok) throw new Error('Failed to fetch news');
                
                const data = await response.json();
                allArticles = data.data || [];
                
                if (allArticles.length === 0) {
                    container.innerHTML = '<div class="error">No articles found. Please try again later.</div>';
                    return;
                }
                
                displayArticles(allArticles);
            } catch (error) {
                console.error('Error:', error);
                const container = document.getElementById('newsContainer');
                container.innerHTML = `<div class="error">Error loading news: ${error.message}</div>`;
            }
        }

        function displayArticles(articles) {
            const container = document.getElementById('newsContainer');
            
            if (articles.length === 0) {
                container.innerHTML = '<div class="loading">No articles match your search.</div>';
                return;
            }
            
            container.innerHTML = articles.map((article, index) => `
                <div class="article-card" onclick="viewArticle(${index})">
                    <img src="${article.image_url || 'https://via.placeholder.com/400x200?text=No+Image'}" alt="${article.title}" onerror="this.src='https://via.placeholder.com/400x200?text=No+Image'">
                    <div class="article-content">
                        <span class="article-category">${article.category || 'News'}</span>
                        <h3>${article.title}</h3>
                        <p>${article.description || 'Read more about this news story...'}</p>
                        <div class="article-footer">
                            <span>${new Date(article.published_at).toLocaleDateString()}</span>
                            <a href="${article.url}" target="_blank" onclick="event.stopPropagation()">Read Full</a>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function viewArticle(index) {
            const article = allArticles[index];
            showRelatedArticles(article, index);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function showRelatedArticles(article, currentIndex) {
            const relatedContainer = document.getElementById('relatedContainer');
            const relatedSection = document.getElementById('relatedArticles');
            
            const related = allArticles
                .filter((a, i) => i !== currentIndex && 
                    (a.category === article.category || 
                     a.title.split(' ').some(word => article.title.includes(word))))
                .slice(0, 6);
            
            if (related.length > 0) {
                relatedSection.style.display = 'block';
                relatedContainer.innerHTML = related.map((article, index) => `
                    <div class="article-card">
                        <img src="${article.image_url || 'https://via.placeholder.com/400x200?text=No+Image'}" alt="${article.title}" onerror="this.src='https://via.placeholder.com/400x200?text=No+Image'">
                        <div class="article-content">
                            <span class="article-category">${article.category || 'News'}</span>
                            <h3>${article.title}</h3>
                            <p>${article.description || ''}</p>
                            <div class="article-footer">
                                <span>${new Date(article.published_at).toLocaleDateString()}</span>
                                <a href="${article.url}" target="_blank">Read</a>
                            </div>
                        </div>
                    </div>
                `).join('');
            } else {
                relatedSection.style.display = 'none';
            }
        }

        function filterByCategory(category) {
            currentCategory = category;
            const filtered = allArticles.filter(a => 
                (a.category && a.category.toLowerCase().includes(category)) ||
                (a.title && a.title.toLowerCase().includes(category))
            );
            displayArticles(filtered.length > 0 ? filtered : allArticles);
        }

        function showAllArticles() {
            currentCategory = null;
            displayArticles(allArticles);
        }

        // Search functionality
        document.getElementById('searchInput').addEventListener('input', (e) => {
            const query = e.target.value.toLowerCase();
            if (query.length === 0) {
                displayArticles(allArticles);
                return;
            }
            const filtered = allArticles.filter(a => 
                a.title.toLowerCase().includes(query) ||
                (a.description && a.description.toLowerCase().includes(query))
            );
            displayArticles(filtered);
        });

        // Load news on page load
        window.addEventListener('DOMContentLoaded', fetchNews);
    </script>
</body>
</html>
